{"blocks":[{"x":710,"y":0,"text":"Находим индекс строки = rowIndex в BD\nКоторая удовлетворяет следующему условию\nBD[index].event_id == activeEvent.id","width":320,"height":60,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":710,"y":100,"text":"dataBaseRow = DB[rowIndex]","width":320,"height":80,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":900,"y":720,"text":"удаляем строку под индексом rowIndex из DB\nDB.splice(rowIndex, 1)","width":320,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":540,"y":690,"text":"Подсчитать общую соимость всех билетов\ndataBaseRow.calculateEqualPrice()","width":320,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":710,"y":430,"text":"уменьшаем конкретный тип билета для \ndataBaseRow\n\ndataBaseRow.setQuantity(\nticket.type, \ndataBaseRow.getQuantity(ticket.type) - 1)\n)","width":320,"height":100,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":710,"y":-140,"text":"Проверяем созданна ли \nстрока с event_id\nТаким же с каким \nбыл нажат counter","width":320,"height":120,"type":"Условие","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":4},{"x":710,"y":-250,"text":"button \"-\" click","width":100,"height":30,"type":"Начало / конец","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":710,"y":250,"text":"Есть ли у данной строки билеты \nданного типа\n\ndataBaseRow.getQuantity(ticket.type) > 0\n","width":440,"height":160,"type":"Условие","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":4},{"x":710,"y":590,"text":"Осталось ли у строки \nбилеты какого-либо типа\n\ndataBaseRow.getQuantityAllTickets()\n≠ 0","width":300,"height":140,"type":"Условие","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":2},{"x":540,"y":760,"text":"Подменяем существующую строку в BD \nна модифицированную\n\nBD[rowIndex] = dataBaseRow","width":320,"height":60,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":720,"y":850,"text":"изменяем состояние BD\n\nsetBD([...BD])","width":320,"height":60,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":720,"y":930,"text":"конец","width":100,"height":30,"type":"Начало / конец","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1}],"arrows":[{"startIndex":5,"endIndex":0,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":-80},{"x":710,"y":-50},{"x":710,"y":-30}],"counts":[1,1,1]},{"startIndex":6,"endIndex":5,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":-235},{"x":710,"y":-220},{"x":710,"y":-200}],"counts":[1,1,1]},{"startIndex":5,"endIndex":11,"startConnectorIndex":1,"endConnectorIndex":1,"nodes":[{"x":870,"y":-140},{"x":1070,"y":-140},{"x":1070,"y":930},{"x":790,"y":930},{"x":770,"y":930}],"counts":[1,1,1,1,1]},{"startIndex":3,"endIndex":9,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":540,"y":710},{"x":540,"y":710},{"x":540,"y":730}],"counts":[1,1,1]},{"startIndex":8,"endIndex":2,"startConnectorIndex":1,"endConnectorIndex":0,"nodes":[{"x":860,"y":590},{"x":900,"y":590},{"x":900,"y":680},{"x":900,"y":700}],"counts":[1,1,1,1]},{"startIndex":8,"endIndex":3,"startConnectorIndex":3,"endConnectorIndex":0,"nodes":[{"x":560,"y":590},{"x":540,"y":590},{"x":540,"y":650},{"x":540,"y":670}],"counts":[1,1,1,1]},{"startIndex":0,"endIndex":1,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":30},{"x":710,"y":40},{"x":710,"y":60}],"counts":[1,1,1]},{"startIndex":4,"endIndex":8,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":480},{"x":710,"y":500},{"x":710,"y":520}],"counts":[1,1,1]},{"startIndex":7,"endIndex":11,"startConnectorIndex":1,"endConnectorIndex":1,"nodes":[{"x":930,"y":250},{"x":1070,"y":250},{"x":1070,"y":930},{"x":790,"y":930},{"x":770,"y":930}],"counts":[1,1,1,1,1]},{"startIndex":1,"endIndex":7,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":140},{"x":710,"y":150},{"x":710,"y":170}],"counts":[1,1,1]},{"startIndex":7,"endIndex":4,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":710,"y":330},{"x":710,"y":360},{"x":710,"y":380}],"counts":[1,1,1]},{"startIndex":9,"endIndex":10,"startConnectorIndex":2,"endConnectorIndex":3,"nodes":[{"x":540,"y":790},{"x":540,"y":850},{"x":560,"y":850}],"counts":[1,1,1]},{"startIndex":2,"endIndex":10,"startConnectorIndex":2,"endConnectorIndex":1,"nodes":[{"x":900,"y":740},{"x":900,"y":850},{"x":880,"y":850}],"counts":[1,1,1]},{"startIndex":10,"endIndex":11,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":720,"y":880},{"x":720,"y":900},{"x":720,"y":915}],"counts":[1,1,1]}],"x0":77,"y0":259}